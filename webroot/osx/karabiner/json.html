<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>karabiner.json Reference Manual - Karabiner - Software for macOS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap core CSS -->
    <link href="/assets/bootstrap/bootstrap-3.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Documentation extras -->
    <link href="/assets/bootstrap/bootstrap-3.3.6/docs/assets/css/docs.min.css" rel="stylesheet" />
    <link href="/cache/pqrs.css.012c71be18538cb7b3c9f8bd91a51a2ac34bfcc2.d79f857976972beba48407c8f65994e566505761.css" rel="stylesheet" />
    <link href="/cache/sparkle.css.ee7a21f32e4ae06d27096592b155cc233ffea47e.836499e34fc1b57390d4e70838eb1546d31b9ec2.css" rel="stylesheet" />

    <!-- Bootstrap extra -->
      <link href="/assets/bootstrap-prettify/prettify.css" rel="stylesheet" type="text/css"/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="shortcut icon" href="/favicon.ico" />
  </head>

  <body class="">

    <!-- Docs master nav -->
    <header class="navbar navbar-fixed-top bs-docs-nav">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <a href="/index.html" class="navbar-brand">pqrs.org</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse">
          <ul class="nav navbar-nav">
                <li >
                  <a href="/osx/karabiner/index.html">Karabiner</a>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Documents
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                      <li >
                        <a href="/osx/karabiner/document.html">Manual</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/source.html">License and Source Code</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/history.html">Version History</a>
                      </li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Archives
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                      <li >
                        <a href="/osx/karabiner/seil.html">Seil</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/noejectdelay.html">NoEjectDelay</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/document_v10.html">Manual for Karabiner-10.22.0</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/gallery_v10.html">Gallery</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/xml.html">private.xml</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/faq.html">Q&amp;A</a>
                      </li>
                      <li >
                        <a href="/osx/karabiner/list.html">List of prepared settings</a>
                      </li>
                  </ul>
                </li>
                <li >
                  <a href="/osx/karabiner/pricing.html">Pricing</a>
                </li>
                <li >
                  <a href="/osx/karabiner/contact.html">Contact</a>
                </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li >
                <a href="/profile.html">Profile</a>
              </li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container">
  <header>
    <div class="page-header">
      <h1>karabiner.json Reference Manual</h1>
    </div>
  </header>

  <div class="row">
    <div class="col-md-9 pqrs-docs-container">
      <section>
        <div class="page-header">
          <h1 id="location">File location</h1>
        </div>

        <table class="table">
          <tbody>
            <tr>
              <th><b>~/.config/karabiner/karabiner.json</b></th>
              <td>
                Main configuration file.<br />
                Karabiner-Elements watches this file and reload it automatically when it is updated.
              </td>
            </tr>
            <tr>
              <th><b>~/.config/karabiner/assets/complex_modifications</b></th>
              <td>
                Imported complex_modifications files.<br />
                You can use them in <b>Preferences &gt; Complex Modifications &gt; Add rule</b>.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <div class="page-header">
          <h1 id="typical-complex_modifications-examples">Typical complex_modifications examples</h1>
        </div>

        <ul>
          <li><a href="#typical-complex_modifications-examples-swap-semicolon-and-colon">Swap <b>;</b> and <b>:</b> (Equal to swap <b>;</b> and <b>shift-;</b>)</a></li>
          <li><a href="#typical-complex_modifications-examples-change-control-h-to-delete">Change <b>control-h</b> to <b>delete</b> (And <b>control-option-h</b> to <b>option-delete</b>)</a></li>
          <li><a href="#typical-complex_modifications-examples-disable-command-l-on-finder">Disable <b>command-l</b> on Finder</a></li>
          <li><a href="#typical-complex_modifications-examples-post-escape-if-left-control-is-pressed-alone">Post <b>escape</b> if <b>left_control</b> is pressed alone</a></li>
          <li><a href="#typical-complex_modifications-examples-change-right-shift-x2-to-mission-control">Change <b>right_shift x2</b> to <b>mission_control</b></a></li>
        </ul>

        <div id="typical-complex_modifications-examples-swap-semicolon-and-colon">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>Swap <b>;</b> and <b>:</b></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "semicolon",
        "modifiers": {
            "mandatory": [
                "shift"
            ],
            "optional": [
                "caps_lock"
            ]
        }
    },
    "to": [
        {
            "key_code": "semicolon"
        }
    ]
},

{
    "type": "basic",
    "from": {
        "key_code": "semicolon",
        "modifiers": {
            "optional": [
                "caps_lock"
            ]
        }
    },
    "to": [
        {
            "key_code": "semicolon",
            "modifiers": [
                "left_shift"
            ]
        }
    ]
}</pre>            </div>
          </div>
        </div>

        <div id="typical-complex_modifications-examples-change-control-h-to-delete">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>Change <b>control-h</b> to <b>delete</b> (and <b>option-control-h</b> to <b>option-delete</b>)</p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "h",
        "modifiers": {
            "mandatory": [
                "control"
            ],
            "optional": [
                "caps_lock",
                "option"
            ]
        }
    },
    "to": [
        {
            "key_code": "delete_or_backspace"
        }
    ]
}</pre>            </div>
          </div>
        </div>

        <div id="typical-complex_modifications-examples-disable-command-l-on-finder">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>Disable <b>command-l</b> on Finder</p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "l",
        "modifiers": {
            "mandatory": [
                "command"
            ],
            "optional": [
                "caps_lock"
            ]
        }
    },
    "conditions": [
        {
            "type": "frontmost_application_if",
            "bundle_identifiers": [
                "^com\\.apple\\.finder$"
            ]
        }
    ]
}</pre>            </div>
          </div>
        </div>

        <div id="typical-complex_modifications-examples-post-escape-if-left-control-is-pressed-alone">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>Post <b>escape</b> if <b>left_control</b> is pressed alone</p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "left_control",
        "modifiers": {
            "optional": [
                "any"
            ]
        }
    },
    "to": [
        {
            "key_code": "left_control",
            "lazy": true
        }
    ],
    "to_if_alone": [
        {
            "key_code": "escape"
        }
    ]
}</pre>            </div>
          </div>
        </div>

        <div id="typical-complex_modifications-examples-change-right-shift-x2-to-mission-control">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>Change <b>right_shift x2</b> to <b>mission_control</b></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "right_shift",
        "modifiers": {
            "optional": [
                "any"
            ]
        }
    },
    "to": [
        {
            "key_code": "mission_control"
        }
    ],
    "conditions": [
        {
            "type": "variable_if",
            "name": "right_shift pressed",
            "value": 1
        }
    ]
},

{
    "type": "basic",
    "from": {
        "key_code": "right_shift",
        "modifiers": {
            "optional": [
                "any"
            ]
        }
    },
    "to": [
        {
            "set_variable": {
                "name": "right_shift pressed",
                "value": 1
            }
        },
        {
            "key_code": "right_shift"
        }
    ],
    "to_delayed_action": {
        "to_if_invoked": [
            {
                "set_variable": {
                    "name": "right_shift pressed",
                    "value": 0
                }
            }
        ],
        "to_if_canceled": [
            {
                "set_variable": {
                    "name": "right_shift pressed",
                    "value": 0
                }
            }
        ]
    }
}</pre>            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="page-header">
          <h1 id="root-data-structure">karabiner.json data structure</h1>
        </div>

        <h2>karabiner.json</h2>

<pre class="prettyprint lang-json">{
    "global": {
        ...
    },
    "profiles": [
        {
            "name": "Profile name",
            "selected": true,
            "simple_modifications": [
                ...
            ],
            "fn_function_keys": [
                ...
            ],
            "complex_modifications": {
                "parameters": {
                    ...
                },
                "rules": [
                    ...
                ]
            },
            "virtual_hid_keyboard": {
                "keyboard_type": "ansi",
                "caps_lock_delay_milliseconds": 0
            },
            "devices": [
                ...
            ]
        },
        {
            "name": "Profile name",
            "selected": false,
            ...
        },
        ...
    ]
}</pre>
        <h2 id="complex_modifications-data-structure">complex_modifications in <b>karabiner.json &gt; profiles</b></h2>

<pre class="prettyprint lang-json">{
    "complex_modifications": {
        "parameters": {
            ...
        },
        "rules": [
            {
                "description": "This description is shown in Preferences.",
                "manipulators": [
                    {
                        "type": "basic",

                        "from": from event definition,

                        "to": [
                            to event definition,
                            to event definition,
                            ...
                        ],

                        "to_if_alone": [
                            to event definition,
                            to event definition,
                            ...
                        ],

                        "to_after_key_up": [
                            to event definition,
                            to event definition,
                            ...
                        ],

                        "to_delayed_action": {
                            "to_if_invoked": [
                                to event definition,
                                to event definition,
                                ...
                            ],
                            "to_if_canceled": [
                                to event definition,
                                to event definition,
                                ...
                            ]
                        },

                        "conditions": [
                            condition definition,
                            condition definition,
                            ...
                        ],

                        "parameters": {
                            ...
                        },

                        "description": "Optional description for human"
                    },
                    {
                        "type": "basic",
                        ...
                    },
                    ...
                ]
            },
            {
                "description": "...",
                "manipulators": [
                    ...
                ]
            },
            ...
        ]
    }
}</pre>      </section>

      <section>
        <div class="page-header">
          <h1 id="complex_modifications-manipulator-priority">complex_modifications manipulator priority</h1>
        </div>

        <p>
          The manipulators are evaluated from the top to the bottom and the input event is manipulated only the first matched manipulator.
        </p>

        <p>
          In other words, if there are multiple manipulators which change the same key, the manipulator placed at the top is applied and other manipulators are ignored.
        </p>

        <h2>Simple Modifications and Complex Modifications</h2>

        <p>
          Simple Modifications and Complex Modifications are independent. Thus, Simple Modifications does not affect above priority.<br />
          <a href="document.html#event-modification-chaining">Input event modification chaining (Simple Modifications, Complex Modifications, Function Keys Modifications) description.</a>
        </p>
      </section>

      <section>
        <div class="page-header">
          <h1 id="complex_modifications-manipulator-definition">complex_modifications manipulator definition</h1>
        </div>

        <table class="table">
          <tbody>
            <tr>
              <th>Name</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><code>type</code></td>
              <td><code class="required">required</code></td>
              <td>Always <code>"type": "basic"</code></td>
            </tr>
            <tr>
              <td><code>from</code></td>
              <td><code class="required">required</code></td>
              <td>
                The name of key code, consumer key code or pointing button which you want to change.
                <a href="#from-event-definition">(detail)</a>
              </td>
            </tr>
            <tr>
              <td><code>to</code></td>
              <td><code class="optional">optional</code></td>
              <td>events which are sent when you press <code>from</code> key.</td>
            </tr>
            <tr>
              <td><code>to_if_alone</code></td>
              <td><code class="optional">optional</code></td>
              <td>events which are sent when you press <code>from</code> key alone.</td>
            </tr>
            <tr>
              <td><code>to_after_key_up</code></td>
              <td><code class="optional">optional</code></td>
              <td>events which are sent after you release <code>from</code> key.</td>
            </tr>
            <tr>
              <td><code>to_delayed_action</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                <code>to_delayed_action</code> sends <code>to_delayed_action > to_if_invoked</code> events after 500 milliseconds at you press <code>from</code> key.<br />
                <code>to_delayed_action > to_if_canceled</code> events are sent if you press another key between <code>from</code> key and to_delayed_action invoked. (<code>to_if_invoked</code> events are not sent if <code>to_if_canceled</code> events are sent.)
              </td>
            </tr>
            <tr>
              <td><code>description</code></td>
              <td><code class="optional">optional</code></td>
              <td>A manipulator description for human.</td>
            </tr>
            <tr>
              <td><code>conditions</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                Manipulator is applied only if condition is matched. (The frontmost application, device, etc.)
              </td>
            </tr>
            <tr>
              <td><code>parameters</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                Override parameters such as <code>to_delayed_action_delay_milliseconds</code>.
              </td>
            </tr>
          </tbody>
        </table>

        <h2 id="from-event-definition">from event definition</h2>

<pre class="prettyprint lang-json">{
    "key_code": "The name of key_code",
    "consumer_key_code": "The name of consumer_key_code",
    "pointing_button": "The name of pointing_button",
    "any": "key_code or consumer_key_code or pointing_button",

    "modifiers": {
        "mandatory": [
            modifier,
            modifier,
            ...
        ],
        "optional": [
            modifier,
            modifier,
            ...
        ]
    }
}</pre>
        <div class="alert alert-info" role="alert">
          <p>
            Note:<br />
            <code>key_code</code>, <code>consumer_key_code</code>, <code>pointing_button</code> and <code>any</code>
            are exclusive.
            You can specify one of them.
          </p>
        </div>

        <table class="table">
          <tbody>
            <tr>
              <th>Name</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><code>key_code</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                <a href="document.html#eventviewer">You can find key_code by EventViewer.</a>
                <a href="https://github.com/tekezo/Karabiner-Elements/blob/master/src/apps/PreferencesWindow/PreferencesWindow/Resources/simple_modifications.json">(list)</a>
              </td>
            </tr>
            <tr>
              <td><code>consumer_key_code</code></td>
              <td><code class="optional">optional</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>pointing_button</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                <div class="alert alert-warning" role="alert">
                  Caution:<br />
                  Be careful when manipulating <code>button1</code> to avoid losing the left click button.
                </div>
              </td>
            </tr>
            <tr>
              <td><code>any</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                You can use <code>any</code> as follows.<br />
                These matches all key codes, consumer key codes or pointing buttons.
                <ul>
                  <li><code>"any": "key_code"</code></li>
                  <li><code>"any": "consumer_key_code"</code></li>
                  <li><code>"any": "pointing_button"</code></li>
                </ul>

                <div class="alert alert-warning" role="alert">
                  Caution:<br />
                  Be careful when using <code>"any": "pointing_button"</code> to avoid losing the left click button.
                </div>
              </td>
            </tr>
            <tr>
              <td><code>modifiers</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                Specify modifiers. (e.g., "change control-h to delete")
                <a href="#from-event-definition-modifiers">(detail)</a>
              </td>
            </tr>
          </tbody>
        </table>

        <h3 id="from-event-definition-modifiers">modifiers in from event definition</h3>

        <code>modifiers</code> works as follows.

        <table class="table">
          <tbody>
            <tr>
              <th>When <code>modifiers</code> is omitted</th>
              <td>
                Events are manipulated only if modifier keys are not pressed.
              </td>
            </tr>
            <tr>
              <th>When <code>modifiers > mandatory</code> is specified</th>
              <td>
                Events are manipulated if mandatory modifiers are pressed. <br />
                Mandatory modifiers are omitted from <code>to events</code>.
              </td>
            </tr>
            <tr>
              <th>When <code>modifiers > optional</code> is specified</th>
              <td>
                Events are also manipulated even if optional modifiers are pressed.<br />
                Optional modifiers are kept in <code>to events</code>.
              </td>
            </tr>
          </tbody>
        </table>

        <h3 id="from-event-definition-examples">Examples</h3>

        <div class="panel panel-default">
          <div class="panel-body">
            <p>Change escape to tab without <code>modifiers</code></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "escape"
    },
    "to": [
        {
            "key_code": "tab"
        }
    ]
}</pre>
            <table class="table">
              <tbody>
                <tr>
                  <th>key</th>
                  <th>manipulated</th>
                  <th>result</th>
                </tr>
                <tr>
                  <td>escape</td>
                  <td><b>manipulated</b></td>
                  <td>tab</td>
                </tr>
                <tr>
                  <td>left_shift + escape</td>
                  <td>not manipulated</td>
                  <td>left_shift + escape</td>
                </tr>
                <tr>
                  <td>left_control + escape</td>
                  <td>not manipulated</td>
                  <td>left_control + escape</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">
            <p>Change escape to tab with <code>optional modifiers</code></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "escape",
        "modifiers": {
            "optional": [
                "left_shift",
                "left_control"
            ]
        }
    },
    "to": [
        {
            "key_code": "tab"
        }
    ]
}</pre>
            <table class="table">
              <tbody>
                <tr>
                  <th>key</th>
                  <th>manipulated</th>
                  <th>result</th>
                </tr>
                <tr>
                  <td>escape</td>
                  <td><b>manipulated</b></td>
                  <td>tab</td>
                </tr>
                <tr>
                  <td>left_shift + escape</td>
                  <td><b>manipulated</b></td>
                  <td>left_shift + tab</td>
                </tr>
                <tr>
                  <td>left_control + escape</td>
                  <td><b>manipulated</b></td>
                  <td>left_control + tab</td>
                </tr>
                <tr>
                  <td>left_option + escape</td>
                  <td>not manipulated</td>
                  <td>left_option + escape</td>
                </tr>
                <tr>
                  <td>left_shift + left_option + escape</td>
                  <td>not manipulated</td>
                  <td>
                    left_shift + left_option + escape<br />
                    (because left_option is not in optional modifiers)
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">
            <p>Change control-h to delete without <code>optional modifiers</code></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "h",
        "modifiers": {
            "mandatory": [
                "control"
            ]
        }
    },
    "to": [
        {
            "key_code": "delete_or_backspace"
        }
    ]
}</pre>
            <table class="table">
              <tbody>
                <tr>
                  <th>key</th>
                  <th>manipulated</th>
                  <th>result</th>
                </tr>
                <tr>
                  <td>h</td>
                  <td>not manipulated</td>
                  <td>h</td>
                </tr>
                <tr>
                  <td>left_control + h</td>
                  <td><b>manipulated</b></td>
                  <td>delete_or_backspace</td>
                </tr>
                <tr>
                  <td>left_control + left_option + h</td>
                  <td>not manipulated</td>
                  <td>
                    left_control + left_option + h<br />
                    (because left_option is not in optional modifiers)
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">
            <p>Change control-h to delete with <code>optional modifiers</code></p>

<pre class="prettyprint lang-json">{
    "type": "basic",
    "from": {
        "key_code": "h",
        "modifiers": {
            "mandatory": [
                "control"
            ],
            "optional": [
                "caps_lock",
                "option"
            ]
        }
    },
    "to": [
        {
            "key_code": "delete_or_backspace"
        }
    ]
}</pre>
            <table class="table">
              <tbody>
                <tr>
                  <th>key</th>
                  <th>manipulated</th>
                  <th>result</th>
                </tr>
                <tr>
                  <td>h</td>
                  <td>not manipulated</td>
                  <td>h</td>
                </tr>
                <tr>
                  <td>left_control + h</td>
                  <td><b>manipulated</b></td>
                  <td>delete_or_backspace</td>
                </tr>
                <tr>
                  <td>left_control + left_option + h</td>
                  <td><b>manipulated</b></td>
                  <td>left_option + delete_or_backspace</td>
                </tr>
                <tr>
                  <td>left_control + left_shift + h</td>
                  <td>not manipulated</td>
                  <td>
                    left_control + left_shift + h<br />
                    (because left_shift is not in optional modifiers)
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <h3 id="from-event-definition-modifiers-list">The list of modifiers in from definition</h3>

        <table class="table">
          <tbody>
            <tr>
              <th>name</th>
              <th>description</th>
            </tr>
            <tr>
              <td><code>caps_lock</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>left_command</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>left_control</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>left_option</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>left_shift</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>right_command</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>right_control</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>right_option</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>right_shift</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>fn</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>command</code></td>
              <td>left command or right command</td>
            </tr>
            <tr>
              <td><code>control</code></td>
              <td>left control or right control</td>
            </tr>
            <tr>
              <td><code>option</code></td>
              <td>left option or right option</td>
            </tr>
            <tr>
              <td><code>shift</code></td>
              <td>left shift or right shift</td>
            </tr>
            <tr>
              <td><code>any</code></td>
              <td>any modifiers</td>
            </tr>
          </tbody>
        </table>

        <h2 id="to-event-definition">to event definition</h2>

<pre class="prettyprint lang-json">{
    "key_code": "The name of key_code",
    "consumer_key_code": "The name of consumer_key_code",
    "pointing_button": "The name of pointing_button",

    "shell_command": "shell command",

    "select_input_source": {
        "language": "language regex",
        "input_source_id": "input source id regex",
        "input_mode_id": "input mode id regex"
    },

    "set_variable": {
        "name": "variable name",
        "value": "variable value"
    },

    "modifiers": [
        modifier,
        modifier,
        ...
    ]
}</pre>
        <div class="alert alert-info" role="alert">
          <p>
            Note:<br />
            <code>key_code</code>, <code>consumer_key_code</code>, <code>pointing_button</code>,
            <code>shell_command</code>, <code>select_input_source</code> and <code>set_variable</code>
            are exclusive.
            You can specify one of them.
          </p>
        </div>

        <table class="table">
          <tbody>
            <tr>
              <th>Name</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><code>key_code</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                <a href="document.html#eventviewer">You can find key_code by EventViewer.</a>
                <a href="https://github.com/tekezo/Karabiner-Elements/blob/master/src/apps/PreferencesWindow/PreferencesWindow/Resources/simple_modifications.json">(list)</a>
              </td>
            </tr>
            <tr>
              <td><code>consumer_key_code</code></td>
              <td><code class="optional">optional</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>pointing_button</code></td>
              <td><code class="optional">optional</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>shell_command</code></td>
              <td><code class="optional">optional</code></td>
              <td></td>
            </tr>
            <tr>
              <td><code>select_input_source</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                You can find the current input source identifiers by <b>EventViewer &gt; Variables tab</b>.<br />
                <code>language</code>, <code>input_source_id</code> and <code>input_mode_id</code> are optional.
                <code>select_input_source</code> finds the input source by the specified regexs.
              </td>
            </tr>
            <tr>
              <td><code>set_variable</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                You can use variables with <code>variable_if</code> and <code>variable_unless</code> conditions.<br />
                You can confirm the current variables state in <b>EventViewer &gt; Variables tab</b>.
              </td>
            </tr>
            <tr>
              <td><code>modifiers</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                Specify modifiers.
              </td>
            </tr>
          </tbody>
        </table>

        <h3 id="to-event-definition-modifiers-list">The list of modifiers in to definition</h3>

        <ul>
          <li><code>caps_lock</code></li>
          <li><code>left_command</code></li>
          <li><code>left_control</code></li>
          <li><code>left_option</code></li>
          <li><code>left_shift</code></li>
          <li><code>right_command</code></li>
          <li><code>right_control</code></li>
          <li><code>right_option</code></li>
          <li><code>right_shift</code></li>
          <li><code>fn</code></li>
        </ul>

        <h2 id="condition-definition">condition definition</h2>

        <h3 id="condition-definition-frontmost_application"><code>frontmost_application_if</code> and <code>frontmost_application_unless</code></h3>

<pre class="prettyprint lang-json">{
    "type": "frontmost_application_if",
    "bundle_identifiers": [
        bundle identifier regex,
        bundle identifier regex,
        ...
    ],
    "file_paths": [
        file path regex,
        file path regex,
        ...
    ]
}</pre>
        <table class="table">
          <tbody>
            <tr>
              <th>Name</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><code>type</code></td>
              <td><code class="required">required</code></td>
              <td>
                Either:
                <ul>
                  <li><code>"type": "frontmost_application_if"</code></li>
                  <li><code>"type": "frontmost_application_unless"</code></li>
                </ul>
              </td>
            </tr>
            <tr>
              <td><code>bundle_identifiers</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                bundle identifier regexs.<br />
                You can examine application's bundle identifier in <b>EventViewer &gt; Frontmost Application tab</b>.
              </td>
            </tr>
            <tr>
              <td><code>file_paths</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                file path regexs.<br />
                You can examine application's file path in <b>EventViewer &gt; Frontmost Application tab</b>.
              </td>
            </tr>
            <tr>
              <td><code>description</code></td>
              <td><code class="optional">optional</code></td>
              <td>A condition description for human.</td>
            </tr>
          </tbody>
        </table>

        <h3 id="condition-definition-device"><code>device_if</code> and <code>device_unless</code></h3>

<pre class="prettyprint lang-json">{
    "type": "device_if",
    "identifiers": [
        {
            "vendor_id": 1111,
            "product_id": 2222,
            "description": "my keyboard 1"
        },
        {
            "vendor_id": 3333,
            "product_id": 4444,
            "description": "my keyboard 2"
        },
        ...
    ]
}</pre>
        <table class="table">
          <tbody>
            <tr>
              <th>Name</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><code>type</code></td>
              <td><code class="required">required</code></td>
              <td>
                Either:
                <ul>
                  <li><code>"type": "device_if"</code></li>
                  <li><code>"type": "device_unless"</code></li>
                </ul>
              </td>
            </tr>
            <tr>
              <td><code>identifiers</code></td>
              <td><code class="optional">optional</code></td>
              <td>
                <p>
                Target device definitions.<br />
                You can examine vendor_id and product_id in <b>Karabiner-Elements Preferences > Devices</b>.
                </p>
                <p>
                  <code>product_id</code> is optional. All devices which have specified <code>vendor_id</code> will be matched if <code>product_id</code> is omitted.
                </p>
              </td>
            </tr>
            <tr>
              <td><code>description</code></td>
              <td><code class="optional">optional</code></td>
              <td>A condition description for human.</td>
            </tr>
          </tbody>
        </table>
      </section>

    </div>
    <div class="col-md-3">
      <div class="bs-docs-sidebar" id="bs-docs-sidebar">
        <ul class="nav bs-sidenav">
              <li>
                <a href="#location">
                  File location
                </a>
              </li>
              <li>
                <a href="#typical-complex_modifications-examples">
                  Typical complex_modifications examples
                </a>
              </li>
              <li class="nav-header">data structure</li>
              <li>
                <a href="#root-data-structure">
                  karabiner.json data structure
                </a>
              </li>
              <li class="nav-header">complex_modifications</li>
              <li>
                <a href="#complex_modifications-data-structure">
                  Data structure
                </a>
              </li>
              <li>
                <a href="#complex_modifications-manipulator-priority">
                  Manipulator priority
                </a>
              </li>
              <li>
                <a href="#complex_modifications-manipulator-definition">
                  Manipulator definition
                </a>
              </li>
              <li>
                <a href="#from-event-definition">
                  from event definition
                </a>
              </li>
              <li>
                <a href="#from-event-definition-modifiers">
                  Modifiers in from event definition
                </a>
              </li>
              <li>
                <a href="#from-event-definition-examples">
                  Examples
                </a>
              </li>
              <li>
                <a href="#from-event-definition-modifiers-list">
                  The list of modifiers in from definition
                </a>
              </li>
              <li>
                <a href="#to-event-definition">
                  to event definition
                </a>
              </li>
              <li>
                <a href="#to-event-definition-modifiers-list">
                  The list of modifiers in to definition
                </a>
              </li>
              <li class="nav-header">condition definition</li>
              <li>
                <a href="#condition-definition-frontmost-application">
                  condition definition frontmost_application_if and frontmost_application_unless
                </a>
              </li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <footer class="bs-docs-footer">
      <div class="container">
        <a href="#">Back to top</a>
      </div>
    </footer>

    <script src="/assets/jquery/jquery-2.1.4.min.js"></script>
    <script src="/assets/bootstrap/bootstrap-3.3.6/dist/js/bootstrap.min.js"></script>
      <script src="/assets/google-code-prettify/prettify.js" type="text/javascript"></script>
      <script type="text/javascript">jQuery(function(){ prettyPrint(); });</script>
      <script type="text/javascript" src="/assets/jquery/jquery.collapse.js"></script>
      <script type="text/javascript">jQuery(function(){ jQuery('#collapser').jqcollapse(); });</script>
    <script src="/cache/pqrs.js.3bf75c0e6a2fadabcc4147fa725d9740e841f9c6.4b4e2f3b554fb13523260d9f006b5ac289b414c8.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-56715024-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
